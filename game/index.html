<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain Web Game MVP</title>
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <header>
        <span style="font-weight:700; font-size:13px;">üéÆ Blockchain Game</span>
        <input id="jwtInput" placeholder="JWTÎ•º Î∂ôÏó¨ÎÑ£ÏúºÏÑ∏Ïöî (ÎòêÎäî Î°úÍ∑∏Ïù∏)" />
        <button id="loginBtn" class="secondary">MetaMask Î°úÍ∑∏Ïù∏</button>
        <button id="saveJwtBtn">JWT Ï†ÄÏû•</button>
        <button id="loadInvBtn" class="secondary" disabled>Ïù∏Î≤§ÌÜ†Î¶¨</button>
        <span id="addressDisplay" style="font-size:11px; color:#9ca3af;"></span>
    </header>

    <div id="main">
        <div id="game-area">
            <div id="monster">
                <div id="monster-name">Training Dummy</div>
                <div id="monster-hp-text">HP: 10 / 10</div>
                <div id="hp-bar-bg">
                    <div id="hp-bar"></div>
                </div>
                <small>ÌÅ¥Î¶≠Ìï¥ÏÑú Í≥µÍ≤©</small>
            </div>
            <div id="floating-text">-1</div>
        </div>

        <div id="side-panel">
            <div>
                <strong>Î°úÍ∑∏</strong>
                <div id="log"></div>
            </div>
            <div>
                <strong>Ïù∏Î≤§ÌÜ†Î¶¨</strong>
                <div id="inventory"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer style="position: fixed; bottom: 0; left: 0; right: 0; text-align: center; padding: 8px; background: #0a0a0a; color: #666; font-size: 10px; border-top: 1px solid #222; z-index: 1000;">
        <div id="deploymentInfo">Loading...</div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/game.js"></script>
    <script>
        // Î∞∞Ìè¨ Ï†ïÎ≥¥ Î°úÎìú
        fetch('/deployment-info.json')
            .then(res => res.json())
            .then(data => {
                const deployedAt = new Date(data.deployedAt);
                const formatted = deployedAt.toLocaleString('ko-KR', { 
                    timeZone: 'Asia/Seoul',
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('deploymentInfo').textContent = 
                    `Deployed: ${formatted} (Build #${data.buildNumber})`;
            })
            .catch(() => {
                document.getElementById('deploymentInfo').textContent = '';
            });
    </script>
</body>
</html>
